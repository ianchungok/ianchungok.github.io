<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>體脂肪計算機</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>	
	<script>
		$(function() {
			$('#calc').click(function(){
				$("#table_row1").css({"background-color":"#ffffff"});
				$("#table_row2").css({"background-color":"#ffffff"});
				$("#table_row3").css({"background-color":"#ffffff"});
				$("#table_row4").css({"background-color":"#ffffff"});
				$("#table_row5").css({"background-color":"#ffffff"});
				var h = $("#height").val();
				var w = $("#weight").val();
				var BMI = w / (h * h)
				var a = $("#age").val();
				var s = $("#sex").val();
				if (h == '') {
					alert("要輸入身高喔");
				}else if(w == ''){
					alert("要輸入體重喔");
				}else if(a == ''){
					alert("要輸入年齡喔");
				}else if(s == ''){
					alert("要輸入性別喔");
				}else if(h >= 3){
					alert("單位是公尺喔");
				}else if (s != 0 && s != 1) {
					alert("性別輸入錯誤喔，可以按下面按鈕來看要填什麼");
				}else{
					var bodyfat = (1.2 * BMI) + (0.23 * a)- 5.4 - (10.8 * s);
					$("#bodyfat").val(formatFloat(bodyfat,3) + "%");
					if (s == 0 && bodyfat >= 10 && bodyfat < 13) {
						$("#table_row1").css({"background-color":"#99FFDF"});
					}else if (s == 1 && bodyfat >= 2 && bodyfat < 6) {
						$("#table_row1").css({"background-color":"#99FFDF"});
					}else if (s == 0 && bodyfat >= 14 && bodyfat < 21) {
						$("#table_row2").css({"background-color":"#99FFDF"});
					}else if (s == 1 && bodyfat >= 6 && bodyfat < 14) {
						$("#table_row2").css({"background-color":"#99FFDF"});
					}else if (s == 0 && bodyfat >= 21 && bodyfat < 25) {
						$("#table_row3").css({"background-color":"#99FFDF"});
					}else if (s == 1 && bodyfat >= 14 && bodyfat < 18) {
						$("#table_row3").css({"background-color":"#99FFDF"});
					}else if (s == 0 && bodyfat >= 31 && bodyfat < 51) {
						$("#table_row4").css({"background-color":"#99FFDF"});
					}else if (s == 1 && bodyfat >= 18 && bodyfat < 25) {
						$("#table_row4").css({"background-color":"#99FFDF"});
					}else if (s == 0 && bodyfat >= 32) {
						$("#table_row5").css({"background-color":"#99FFDF"});
					}else if (s == 1 && bodyfat >= 25) {
						$("#table_row5").css({"background-color":"#99FFDF"});
					}else{
						$("#table_row1").css({"background-color":"#ffffff"});
						$("#table_row2").css({"background-color":"#ffffff"});
						$("#table_row3").css({"background-color":"#ffffff"});
						$("#table_row4").css({"background-color":"#ffffff"});
						$("#table_row5").css({"background-color":"#ffffff"});
					}
				}
			});
		});
		$(function() {
			$('#reset').click(function(){
				$("#bodyfat").val('');
				$("#height").val('');
				$("#weight").val('');
				$("#age").val('');
				$("#sex").val('');
			});
		});
		function formatFloat(num, pos) {
			var size = Math.pow(10, pos);
			return Math.round(num * size) / size;
	}
	</script>
	<style>
		.box{
			padding-left: 30px;
			padding-bottom: 20px;
			padding-right: 30px;
		}
		.box-button{
			padding-top: 28.5px;
		}
	</style>
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<div class="container-fluid">
			<a class="navbar-brand" href="#">體脂肪計算機</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link" target="_blank" href="https://hahow.in/courses/56c1e3b3e91d590900234105/discussions?item=5a1e174ea2c4b000589dd669">參考資料</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="row">
		<div class="col-md-4 box">
			<label for="height">身高(m)</label>
			<br>
			<input id = "height" class="form-control" type="number" placeholder="請輸入身高^^">
			<br>
			<label for="weight">體重(kg)</label>
			<br>
			<input id = "weight" class="form-control" type="number" placeholder="請輸入體重^^">
		</div>
		<div class="col-md-4 box">
			<label for="age">年齡(歲)</label>
			<br>
			<input id = "age" class="form-control" type="number" placeholder="請輸入年紀^^" >
			<br>
			<label for="sex">性別(性))</label>
			<select type="number" class="form-control" id="sex">
				<option selected="selected">性別</option>
        <option value="1" id="male">男</option>
        <option value="0" id="female">女</option>
      </select>
			<br>
		</div>
		<div class="col-md-1 box-button">
			<button type="button" id="calc" class="btn btn-success">計算你的體脂肪</button>
		</div>
		<div class="col-md-1 box-button">
			<button type="button" id="reset" class="btn btn-success">重置</button>
		</div>
		<div class="col-md-2 box">
			<label for="bodyfat">您的體脂肪</label>
			<input id="bodyfat" class="form-control" readonly="true">
		</div>
	</div>
	<table class="table table-hover">
	  <thead>
    	<tr>
    	  <th scope="col">類別</th>
    	  <th scope="col">女生</th>
    	  <th scope="col">男生</th>
    	</tr>
  	</thead>
  	<tbody>
    	<tr id="table_row1">
    	  <td>精瘦</td>
    	  <td>10-12%</td>
    	  <td>2-5%</td>
    	</tr>
    	<tr id="table_row2">
      	<td>運動員</td>
      	<td>14-20%</td>
    	  <td>6-13%</td>
    	</tr>
    	<tr id="table_row3">
    		<td>結實</td>
      	<td>21-24%</td>
      	<td>14-17%</td>
    	</tr>
    	<tr id="table_row4">
    		<td>可接受</td>
      	<td>31-50%</td>
      	<td>18-24%</td>
    	</tr>
    	<tr id="table_row5">
    		<td>肥胖</td>
      	<td>32% +</td>
      	<td>25% +</td>
    	</tr>
		</tbody>
  </table>
</html>